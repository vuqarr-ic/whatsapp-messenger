# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ö–æ—Å—Ç–∏–Ω–≥–∞—Ö

## –ü—Ä–æ–±–ª–µ–º–∞
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ (Render.com, Netlify) –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å:
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –∑–∞–¥–µ—Ä–∂–∫–∏
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- –ü—Ä–æ–±–ª–µ–º—ã —Å WebRTC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –†–æ—Å—Å–∏–π—Å–∫–∏–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: Timeweb (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥ —Å —Ö–æ—Ä–æ—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- –ù–∏–∑–∫–∏–µ —Ü–µ–Ω—ã (–æ—Ç 200‚ÇΩ/–º–µ—Å—è—Ü)
- –ë—ã—Å—Ç—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ –†–æ—Å—Å–∏–∏

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞ (signaling —Å–µ—Ä–≤–µ—Ä):**

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://timeweb.com
2. –°–æ–∑–¥–∞–π—Ç–µ VPS —Å–µ—Ä–≤–µ—Ä (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 1 CPU, 1GB RAM)
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ SSH
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js:
   ```bash
   curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
   sudo apt-get install -y nodejs
   ```
5. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ —Å–µ—Ä–≤–µ—Ä–∞:
   ```bash
   git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π> stork-messenger
   cd stork-messenger
   npm install
   ```
6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PM2 –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞:
   ```bash
   sudo npm install -g pm2
   pm2 start server/index.js --name stork-signaling
   pm2 save
   pm2 startup
   ```
7. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –¥–ª—è WebSocket:
   ```bash
   sudo apt-get install nginx
   ```
   –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/nginx/sites-available/stork`:
   ```nginx
   server {
       listen 80;
       server_name –≤–∞—à-–¥–æ–º–µ–Ω.ru;

       location / {
           proxy_pass http://localhost:3005;
           proxy_http_version 1.1;
           proxy_set_header Upgrade $http_upgrade;
           proxy_set_header Connection "upgrade";
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
       }
   }
   ```
8. –í–∫–ª—é—á–∏—Ç–µ —Å–∞–π—Ç:
   ```bash
   sudo ln -s /etc/nginx/sites-available/stork /etc/nginx/sites-enabled/
   sudo nginx -t
   sudo systemctl restart nginx
   ```
9. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL (Let's Encrypt):
   ```bash
   sudo apt-get install certbot python3-certbot-nginx
   sudo certbot --nginx -d –≤–∞—à-–¥–æ–º–µ–Ω.ru
   ```

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:**

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥ Timeweb
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPS —Å Nginx –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```
   VITE_SIGNALING_URL=wss://–≤–∞—à-–¥–æ–º–µ–Ω.ru
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Selectel

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥
- –•–æ—Ä–æ—à–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docker

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://selectel.ru
2. –°–æ–∑–¥–∞–π—Ç–µ VPS
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏–∑ –í–∞—Ä–∏–∞–Ω—Ç–∞ 1

### –í–∞—Ä–∏–∞–Ω—Ç 3: REG.RU

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥
- –ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –•–æ—Ä–æ—à–∏–µ —Ü–µ–Ω—ã

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://reg.ru
2. –°–æ–∑–¥–∞–π—Ç–µ VPS –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö–æ—Å—Ç–∏–Ω–≥
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏–∑ –í–∞—Ä–∏–∞–Ω—Ç–∞ 1

### –í–∞—Ä–∏–∞–Ω—Ç 4: Beget

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ö–æ—Å—Ç–∏–Ω–≥
- –ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å
- –•–æ—Ä–æ—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://beget.com
2. –°–æ–∑–¥–∞–π—Ç–µ VPS
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏–∑ –í–∞—Ä–∏–∞–Ω—Ç–∞ 1

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TURN —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º VPS

–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–≤–æ–π TURN —Å–µ—Ä–≤–µ—Ä:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ coturn:
   ```bash
   sudo apt-get update
   sudo apt-get install coturn
   ```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `/etc/turnserver.conf`:
   ```
   listening-port=3478
   external-ip=–í–ê–®_IP_–°–ï–†–í–ï–†–ê
   realm=stork-messenger.ru
   user=stork:–ø–∞—Ä–æ–ª—å
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   sudo systemctl enable coturn
   sudo systemctl start coturn
   ```

4. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:
   ```
   VITE_TURN_URL=turn:–≤–∞—à-–¥–æ–º–µ–Ω.ru:3478
   VITE_TURN_USER=stork
   VITE_TURN_PASS=–ø–∞—Ä–æ–ª—å
   ```

## üìã –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ:

1. –û–±–Ω–æ–≤–∏—Ç–µ `VITE_SIGNALING_URL` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:
   ```
   VITE_SIGNALING_URL=wss://–≤–∞—à-–¥–æ–º–µ–Ω.ru
   ```

2. –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ TURN —Å–µ—Ä–≤–µ—Ä:
   ```
   VITE_TURN_URL=turn:–≤–∞—à-–¥–æ–º–µ–Ω.ru:3478
   VITE_TURN_USER=–≤–∞—à-–ª–æ–≥–∏–Ω
   VITE_TURN_PASS=–≤–∞—à-–ø–∞—Ä–æ–ª—å
   ```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ö–æ—Å—Ç–∏–Ω–≥–æ–≤

1. **–ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞** - —Å–µ—Ä–≤–µ—Ä—ã –≤ –†–æ—Å—Å–∏–∏, –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫
2. **–ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ VPN
3. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é
4. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** - —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
5. **–¶–µ–Ω–∞** - —á–∞—Å—Ç–æ –¥–µ—à–µ–≤–ª–µ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤

## üìù –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ
- [ ] –°–æ–∑–¥–∞–ª–∏ VPS —Å–µ—Ä–≤–µ—Ä
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Node.js
- [ ] –ó–∞–≥—Ä—É–∑–∏–ª–∏ –∫–æ–¥ –±—ç–∫–µ–Ω–¥–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ PM2 –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ Nginx –¥–ª—è WebSocket
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ SSL (Let's Encrypt)
- [ ] –†–∞–∑–≤–µ—Ä–Ω—É–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- [ ] –û–±–Ω–æ–≤–∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏ —Ä–∞–±–æ—Ç—É

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- Timeweb: https://timeweb.com
- Selectel: https://selectel.ru
- REG.RU: https://reg.ru
- Beget: https://beget.com
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ coturn: https://github.com/coturn/coturn
